!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){"use strict";e.Zebra_DatePicker=function(t,s){var i,a,n,r,o,d,c,l,_,h,g,u,p,f,b,m,y,v,w,k,D,A,C,M,P,F,Z,x,Y,S,I,z,O,N,j,H,W,T,L,Q,J={always_visible:!1,container:e("body"),custom_classes:!1,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],days_abbr:!1,default_position:"above",direction:0,disabled_dates:!1,enabled_dates:!1,enabled_hours:!1,enabled_minutes:!1,enabled_seconds:!1,first_day_of_week:1,format:"Y-m-d",header_captions:{days:"F, Y",months:"Y",years:"Y1 - Y2"},header_navigation:["&#171;","&#187;"],icon_position:"right",inside:!0,lang_clear_date:"Clear date",months:["January","February","March","April","May","June","July","August","September","October","November","December"],months_abbr:!1,offset:[5,-5],open_icon_only:!1,open_on_focus:!1,pair:!1,readonly_element:!0,select_other_months:!1,show_clear_date:0,show_icon:!0,show_other_months:!0,show_select_today:"Today",show_week_number:!1,start_date:!1,strict:!1,view:"days",weekend_days:[0,6],zero_pad:!1,onChange:null,onClear:null,onOpen:null,onClose:null,onSelect:null},G=[],U={},V=[],$=[],q={},E="",R=[],B=this;B.settings={};var X=e(t),K=function(t){var l,C,z,L,K={days:["d","j","D"],months:["F","m","M","n","t"],years:["o","Y","y"],hours:["G","g","H","h"],minutes:["i"],seconds:["s"],ampm:["A","a"]},se=null;for(z=0;z<3;z++)E+=Math.floor(65536*(1+Math.random())).toString(16);if(!t){B.settings=e.extend({},J,s),q.readonly=X.attr("readonly"),q.style=X.attr("style");for(l in X.data())0===l.indexOf("zdp_")&&(l=l.replace(/^zdp\_/,""),void 0!==J[l]&&(B.settings[l]="pair"===l?e(X.data("zdp_"+l)):X.data("zdp_"+l)))}B.settings.readonly_element&&X.attr("readonly","readonly"),W=!1;for(se in K)e.each(K[se],function(t,s){var i,a;if(B.settings.format.indexOf(s)>-1)if("days"===se)R.push("days");else if("months"===se)R.push("months");else if("years"===se)R.push("years");else if("hours"===se||"minutes"===se||"seconds"===se||"ampm"===se)if(W||(W={is12hour:!1},R.push("time"),B.settings.always_visible=!0),"hours"===se)for("g"===s||"h"==s?(a=12,W.is12hour=!0):a=24,W.hours=[],i=12===a?1:0;i<(12===a?13:a);i++)(!e.isArray(B.settings.enabled_hours)||e.inArray(i,B.settings.enabled_hours)>-1)&&W.hours.push(i);else if("minutes"===se)for(W.minutes=[],i=0;i<60;i++)(!e.isArray(B.settings.enabled_minutes)||e.inArray(i,B.settings.enabled_minutes)>-1)&&W.minutes.push(i);else if("seconds"===se)for(W.seconds=[],i=0;i<60;i++)(!e.isArray(B.settings.enabled_seconds)||e.inArray(i,B.settings.enabled_seconds)>-1)&&W.seconds.push(i);else W.ampm=["am","pm"]});0===R.length&&(R=["years","months","days"]),-1===e.inArray(B.settings.view,R)&&(B.settings.view=R[R.length-1]);for(z in B.settings.custom_classes)B.settings.custom_classes.hasOwnProperty(z)&&G.push(z);for(L=0;L<2+G.length;L++)C=0===L?B.settings.disabled_dates:1===L?B.settings.enabled_dates:B.settings.custom_classes[G[L-2]],e.isArray(C)&&C.length>0&&e.each(C,function(){var t,s,i,a,n=this.split(" ");for(t=0;t<4;t++){for(n[t]||(n[t]="*"),n[t]=n[t].indexOf(",")>-1?n[t].split(","):new Array(n[t]),s=0;s<n[t].length;s++)if(n[t][s].indexOf("-")>-1&&null!==(a=n[t][s].match(/^([0-9]+)\-([0-9]+)/))){for(i=be(a[1]);i<=be(a[2]);i++)-1===e.inArray(i,n[t])&&n[t].push(i+"");n[t].splice(s,1)}for(s=0;s<n[t].length;s++)n[t][s]=isNaN(be(n[t][s]))?n[t][s]:be(n[t][s])}0===L?V.push(n):1===L?$.push(n):(void 0===U[G[L-2]]&&(U[G[L-2]]=[]),U[G[L-2]].push(n))});var ie,ae,ne=new Date,re=B.settings.reference_date?B.settings.reference_date:X.data("zdp_reference_date")&&void 0!==X.data("zdp_reference_date")?X.data("zdp_reference_date"):ne;if(N=void 0,u=void 0,f=re.getMonth(),r=ne.getMonth(),b=re.getFullYear(),o=ne.getFullYear(),p=re.getDate(),n=ne.getDate(),!0===B.settings.direction)N=re;else if(!1===B.settings.direction)k=(u=re).getMonth(),D=u.getFullYear(),w=u.getDate();else if(!e.isArray(B.settings.direction)&&_e(B.settings.direction)&&be(B.settings.direction)>0||e.isArray(B.settings.direction)&&((ie=ee(B.settings.direction[0]))||!0===B.settings.direction[0]||_e(B.settings.direction[0])&&B.settings.direction[0]>0)&&((ae=ee(B.settings.direction[1]))||!1===B.settings.direction[1]||_e(B.settings.direction[1])&&B.settings.direction[1]>=0))N=ie||new Date(b,f,p+be(e.isArray(B.settings.direction)?!0===B.settings.direction[0]?0:B.settings.direction[0]:B.settings.direction)),f=N.getMonth(),b=N.getFullYear(),p=N.getDate(),ae&&+ae>=+N?u=ae:!ae&&!1!==B.settings.direction[1]&&e.isArray(B.settings.direction)&&(u=new Date(b,f,p+be(B.settings.direction[1]))),u&&(k=u.getMonth(),D=u.getFullYear(),w=u.getDate());else if(!e.isArray(B.settings.direction)&&_e(B.settings.direction)&&be(B.settings.direction)<0||e.isArray(B.settings.direction)&&(!1===B.settings.direction[0]||_e(B.settings.direction[0])&&B.settings.direction[0]<0)&&((ie=ee(B.settings.direction[1]))||_e(B.settings.direction[1])&&B.settings.direction[1]>=0))u=new Date(b,f,p+be(e.isArray(B.settings.direction)?!1===B.settings.direction[0]?0:B.settings.direction[0]:B.settings.direction)),k=u.getMonth(),D=u.getFullYear(),w=u.getDate(),ie&&+ie<+u?N=ie:!ie&&e.isArray(B.settings.direction)&&(N=new Date(D,k,w-be(B.settings.direction[1]))),N&&(f=N.getMonth(),b=N.getFullYear(),p=N.getDate());else if(e.isArray(B.settings.disabled_dates)&&B.settings.disabled_dates.length>0)for(var oe in V)if("*"===V[oe][0]&&"*"===V[oe][1]&&"*"===V[oe][2]&&"*"===V[oe][3]){var de=[];if(e.each($,function(){var e=this;"*"!==e[2][0]&&de.push(parseInt(e[2][0]+("*"===e[1][0]?"12":fe(e[1][0],2))+("*"===e[0][0]?"*"===e[1][0]?"31":new Date(e[2][0],e[1][0],0).getDate():fe(e[0][0],2)),10))}),de.sort(),de.length>0){var ce=(de[0]+"").match(/([0-9]{4})([0-9]{2})([0-9]{2})/);b=parseInt(ce[1],10),f=parseInt(ce[2],10)-1,p=parseInt(ce[3],10)}break}if(le(b,f,p)){for(;le(b);)N?(b++,f=0):(b--,f=11);for(;le(b,f);)N?(f++,p=1):(f--,p=new Date(b,f+1,0).getDate()),f>11?(b++,f=0,p=1):f<0&&(b--,f=11,p=new Date(b,f+1,0).getDate());for(;le(b,f,p);)N?p++:p--,ne=new Date(b,f,p),b=ne.getFullYear(),f=ne.getMonth(),p=ne.getDate();ne=new Date(b,f,p),b=ne.getFullYear(),f=ne.getMonth(),p=ne.getDate()}var he=ee(X.val()||(B.settings.start_date?B.settings.start_date:""));if(he&&B.settings.strict&&le(he.getFullYear(),he.getMonth(),he.getDate())&&X.val(""),t||void 0===N&&void 0===he||me(void 0!==he?he:N),!(B.settings.always_visible instanceof jQuery)){if(!t){if(B.settings.show_icon){"firefox"===ve.name&&X.is('input[type="text"]')&&"inline"===X.css("display")&&X.css("display","inline-block");var pe=e('<span class="Zebra_DatePicker_Icon_Wrapper"></span>').css({display:X.css("display"),position:"static"===X.css("position")?"relative":X.css("position"),float:X.css("float"),top:X.css("top"),right:X.css("right"),bottom:X.css("bottom"),left:X.css("left")});"block"===X.css("display")&&pe.css("width",X.outerWidth(!0)),X.wrap(pe).css({position:"relative",top:"auto",right:"auto",bottom:"auto",left:"auto"}),v=e('<button type="button" class="Zebra_DatePicker_Icon'+("disabled"===X.attr("disabled")?" Zebra_DatePicker_Icon_Disabled":"")+'">Pick a date</button>'),B.icon=v,a=B.settings.open_icon_only?v:v.add(X)}else a=X;a.on("click.Zebra_DatePicker_"+E+(B.settings.open_on_focus?" focus.Zebra_DatePicker_"+E:""),function(){d.hasClass("dp_visible")||X.attr("disabled")||B.show()}),a.on("keydown.Zebra_DatePicker_"+E,function(e){9===e.keyCode&&d.hasClass("dp_visible")&&B.hide()}),!B.settings.readonly_element&&B.settings.pair&&X.on("blur.Zebra_DatePicker_"+E,function(){var t;(t=ee(e(this).val()))&&!le(t.getFullYear(),t.getMonth(),t.getDate())&&me(t)}),void 0!==v&&v.insertAfter(X)}if(void 0!==v){v.attr("style",""),B.settings.inside&&v.addClass("Zebra_DatePicker_Icon_Inside_"+("right"===B.settings.icon_position?"Right":"Left"));var ye=X.outerWidth(),we=X.outerHeight(),ke=parseInt(X.css("marginLeft"),10)||0,De=parseInt(X.css("marginTop"),10)||0,Ae=(v.outerWidth(),v.outerHeight()),Ce=parseInt(v.css("marginLeft"),10)||0;parseInt(v.css("marginRight"),10);B.settings.inside?(v.css("top",De+(we-Ae)/2),"right"===B.settings.icon_position?v.css("right",0):v.css("left",0)):v.css({top:De+(we-Ae)/2,left:ke+ye+Ce}),v.removeClass(" Zebra_DatePicker_Icon_Disabled"),"disabled"===X.attr("disabled")&&v.addClass("Zebra_DatePicker_Icon_Disabled")}}if(O=!1!==B.settings.show_select_today&&e.inArray("days",R)>-1&&!le(o,r,n)&&B.settings.show_select_today,t)return e(".dp_previous",d).html(B.settings.header_navigation[0]),e(".dp_next",d).html(B.settings.header_navigation[1]),e(".dp_clear",d).html(B.settings.lang_clear_date),e(".dp_today",d).html(B.settings.show_select_today),void(W?x.removeClass("dp_unavailable"):x.addClass("dp_unavailable"));e(window).on("resize.Zebra_DatePicker_"+E+", orientationchange.Zebra_DatePicker_"+E,function(){B.hide(),void 0!==v&&(clearTimeout(j),j=setTimeout(function(){B.update()},100))});var Me='<div class="Zebra_DatePicker"><table class="dp_header"><tr><td class="dp_previous">'+B.settings.header_navigation[0]+'</td><td class="dp_caption">&#032;</td><td class="dp_next">'+B.settings.header_navigation[1]+'</td></tr></table><table class="dp_daypicker"></table><table class="dp_monthpicker"></table><table class="dp_yearpicker"></table><table class="dp_timepicker'+(W?"":" dp_unavailable")+'"></table><table class="dp_footer"><tr><td class="dp_today"'+(!1!==B.settings.show_clear_date?' style="width:50%"':"")+">"+O+'</td><td class="dp_clear"'+(!1!==O?' style="width:50%"':"")+">"+B.settings.lang_clear_date+'</td><td class="dp_timepicker_toggler'+(W?"":" dp_unavailable")+'">&nbsp;</td></tr></table></div>';d=e(Me),y=e("table.dp_header",d),c=e("table.dp_daypicker",d),A=e("table.dp_monthpicker",d),T=e("table.dp_yearpicker",d),H=e("table.dp_timepicker",d),m=e("table.dp_footer",d),I=e("td.dp_today",m),i=e("td.dp_clear",m),x=e("td.dp_timepicker_toggler",m),B.settings.always_visible instanceof jQuery?X.attr("disabled")||(B.settings.always_visible.append(d),B.show()):B.settings.container.append(d),d.on("mouseover","td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_week_number)",function(){e(this).addClass("dp_hover")}).on("mouseout","td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_week_number)",function(){e(this).removeClass("dp_hover")}),te(d),e(".dp_previous",y).on("click",function(){"months"===Q?S--:"years"===Q?S-=12:--Y<0&&(Y=11,S--),ge()}),e(".dp_caption",y).on("click",function(){Q="days"===Q?e.inArray("months",R)>-1?"months":e.inArray("years",R)>-1?"years":"days":"months"===Q?e.inArray("years",R)>-1?"years":e.inArray("days",R)>-1?"days":"months":e.inArray("days",R)>-1?"days":e.inArray("months",R)>-1?"months":"years",ge()}),e(".dp_next",y).on("click",function(){"months"===Q?S++:"years"===Q?S+=12:12==++Y&&(Y=0,S++),ge()}),c.on("click","td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_week_number)",function(){var t;B.settings.select_other_months&&e(this).attr("class")&&null!==(t=e(this).attr("class").match(/date\_([0-9]{4})(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])/))?ue(t[1],t[2]-1,t[3],"days",e(this)):ue(S,Y,be(e(this).html()),"days",e(this))}),A.on("click","td:not(.dp_disabled)",function(){var t=e(this).attr("class").match(/dp\_month\_([0-9]+)/);Y=be(t[1]),-1===e.inArray("days",R)?ue(S,Y,1,"months",e(this)):(Q="days",B.settings.always_visible&&X.val(""),ge())}),T.on("click","td:not(.dp_disabled)",function(){S=be(e(this).html()),-1===e.inArray("months",R)?ue(S,1,1,"years",e(this)):(Q="months",B.settings.always_visible&&X.val(""),ge())}),e(I).on("click",function(t){var s=new Date;t.preventDefault(),ue(s.getFullYear(),s.getMonth(),s.getDate(),"days",e(".dp_current",c))}),e(i).on("click",function(t){t.preventDefault(),X.val(""),_=null,h=null,g=null,B.settings.always_visible?e("td.dp_selected",d).removeClass("dp_selected"):(Y=null,S=null),X.focus(),B.hide(),B.settings.onClear&&"function"==typeof B.settings.onClear&&B.settings.onClear.call(X,X)}),e(x).on("click",function(){"time"!==Q?(Q="time",ge()):e(".dp_caption",y).trigger("click")}),d.on("click",".dp_time_controls_increase td, .dp_time_controls_decrease td",function(){var t,s=e(this).parent(".dp_time_controls_increase").length>0,i=e(this).attr("class").match(/dp\_time\_([^\s]+)/i),a=e(".dp_time_elements .dp_time_"+i[1]+("ampm"!==i[1]?"s":""),H),n=a.text().toLowerCase(),r=W[i[1]+("ampm"!==i[1]?"s":"")],o=r.indexOf("ampm"!==i[1]?parseInt(n,10):n),d=-1===o?0:s?o+1>=r.length?0:o+1:o-1<0?r.length-1:o-1;"hour"===i[1]?M=r[d]:"minute"===i[1]?P=r[d]:"second"===i[1]?F=r[d]:Z=r[d],!_&&B.settings.start_date&&(t=ee(B.settings.start_date))&&(_=t.getDate()),_||(_=(new Date).getDate()),a.text(fe(r[d],2).toUpperCase()),ue(S,Y,_)}),B.settings.always_visible instanceof jQuery||(e(document).on("mousedown.Zebra_DatePicker_"+E+" touchstart.Zebra_DatePicker_"+E,function(t){d.hasClass("dp_visible")&&(B.settings.open_icon_only&&B.icon&&e(t.target).get(0)!==B.icon.get(0)||!B.settings.open_icon_only&&e(t.target).get(0)!==X.get(0)&&(!B.icon||e(t.target).get(0)!==B.icon.get(0)))&&0===e(t.target).parents().filter(".Zebra_DatePicker").length&&B.hide(!0)}),e(document).on("keyup.Zebra_DatePicker_"+E,function(e){d.hasClass("dp_visible")&&27===e.which&&B.hide()})),ge()};B.clear_date=function(){e(i).trigger("click")},B.destroy=function(){void 0!==B.icon&&(B.icon.off("click.Zebra_DatePicker_"+E),B.icon.off("focus.Zebra_DatePicker_"+E),B.icon.off("keydown.Zebra_DatePicker_"+E),B.icon.remove()),d.off(),d.remove(),!B.settings.show_icon||B.settings.always_visible instanceof jQuery||X.unwrap(),X.off("blur.Zebra_DatePicker_"+E),X.off("click.Zebra_DatePicker_"+E),X.off("focus.Zebra_DatePicker_"+E),X.off("keydown.Zebra_DatePicker_"+E),X.off("mousedown.Zebra_DatePicker_"+E),e(document).off("keyup.Zebra_DatePicker_"+E),e(document).off("mousedown.Zebra_DatePicker_"+E),e(document).off("touchstart.Zebra_DatePicker_"+E),e(window).off("resize.Zebra_DatePicker_"+E),e(window).off("orientationchange.Zebra_DatePicker_"+E),X.removeData("Zebra_DatePicker"),X.attr("readonly",q.readonly),X.attr("style",q.style?q.style:"")},B.hide=function(e){B.settings.always_visible&&!e||(ce("hide"),d.removeClass("dp_visible").addClass("dp_hidden"),B.settings.onClose&&"function"==typeof B.settings.onClose&&B.settings.onClose.call(X,X))},B.set_date=function(e){var t;(t=ee(e))&&!le(t.getFullYear(),t.getMonth(),t.getDate())&&(X.val(e),me(t))},B.show=function(){Q=B.settings.view;var t,s=ee(X.val()||(B.settings.start_date?B.settings.start_date:""));if(s?(h=s.getMonth(),Y=s.getMonth(),g=s.getFullYear(),S=s.getFullYear(),_=s.getDate(),le(g,h,_)&&(B.settings.strict&&X.val(""),Y=f,S=b)):(Y=f,S=b),W&&(t=s||new Date,M=t.getHours(),P=t.getMinutes(),F=t.getSeconds(),Z=M>=12?"pm":"am",W.is12hour&&(M=M%12==0?12:M%12),e.isArray(B.settings.enabled_hours)&&-1===e.inArray(M,B.settings.enabled_hours)&&(M=B.settings.enabled_hours[0]),e.isArray(B.settings.enabled_minutes)&&-1===e.inArray(P,B.settings.enabled_minutes)&&(P=B.settings.enabled_minutes[0]),e.isArray(B.settings.enabled_seconds)&&-1===e.inArray(F,B.settings.enabled_seconds)&&(F=B.settings.enabled_seconds[0])),ge(),B.settings.always_visible instanceof jQuery)d.removeClass("dp_hidden").addClass("dp_visible");else{if(B.settings.container.is("body")){var i=d.outerWidth(),a=d.outerHeight(),n=(void 0!==v?v.offset().left+v.outerWidth(!0):X.offset().left+X.outerWidth(!0))+B.settings.offset[0],r=(void 0!==v?v.offset().top:X.offset().top)-a+B.settings.offset[1],o=e(window).width(),c=e(window).height(),l=e(window).scrollTop(),u=e(window).scrollLeft();"below"===B.settings.default_position&&(r=(void 0!==v?v.offset().top:X.offset().top)+B.settings.offset[1]),n+i>u+o&&(n=u+o-i),n<u&&(n=u),r+a>l+c&&(r=l+c-a),r<l&&(r=l),d.css({left:n,top:r})}else d.css({left:0,top:0});d.removeClass("dp_hidden").addClass("dp_visible"),ce()}B.settings.onOpen&&"function"==typeof B.settings.onOpen&&B.settings.onOpen.call(X,X)},B.update=function(t){B.original_direction&&(B.original_direction=B.direction),B.settings=e.extend(B.settings,t),K(!0)};var ee=function(t){if(t+="",""!==e.trim(t)){for(var s=se(B.settings.format),i=["d","D","j","l","N","S","w","F","m","M","n","Y","y","G","g","H","h","i","s","a","A"],a=[],n=[],r=null,o=null,d=0;d<i.length;d++)(r=s.indexOf(i[d]))>-1&&a.push({character:i[d],position:r});if(a.sort(function(e,t){return e.position-t.position}),e.each(a,function(e,t){switch(t.character){case"d":n.push("0[1-9]|[12][0-9]|3[01]");break;case"D":n.push("[a-z]{3}");break;case"j":n.push("[1-9]|[12][0-9]|3[01]");break;case"l":n.push("[a-z]+");break;case"N":n.push("[1-7]");break;case"S":n.push("st|nd|rd|th");break;case"w":n.push("[0-6]");break;case"F":n.push("[a-z]+");break;case"m":n.push("0[1-9]|1[012]");break;case"M":n.push("[a-z]{3}");break;case"n":n.push("[1-9]|1[012]");break;case"Y":n.push("[0-9]{4}");break;case"y":n.push("[0-9]{2}");break;case"G":n.push("[1-9]|1[0-9]|2[0123]");break;case"g":n.push("[0-9]|1[012]");break;case"H":n.push("0[0-9]|1[0-9]|2[0123]");break;case"h":n.push("0[0-9]|1[012]");break;case"i":case"s":n.push("0[0-9]|[12345][0-9]");break;case"a":n.push("am|pm");break;case"A":n.push("AM|PM")}}),n.length&&(a.reverse(),e.each(a,function(e,t){s=s.replace(t.character,"("+n[n.length-e-1]+")")}),n=new RegExp("^"+s+"$","ig"),o=n.exec(t))){var c,l,_=new Date,h=1,g=_.getMonth()+1,u=_.getFullYear(),p=_.getHours(),f=_.getMinutes(),b=_.getSeconds(),m=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],y=["January","February","March","April","May","June","July","August","September","October","November","December"],v=!0;if(a.reverse(),e.each(a,function(t,s){if(!v)return!0;switch(s.character){case"m":case"n":g=be(o[t+1]);break;case"d":case"j":h=be(o[t+1]);break;case"D":case"l":case"F":case"M":l="D"===s.character||"l"===s.character?B.settings.days:B.settings.months,v=!1,e.each(l,function(e,i){if(v)return!0;if(o[t+1].toLowerCase()===i.substring(0,"D"===s.character||"M"===s.character?3:i.length).toLowerCase()){switch(s.character){case"D":o[t+1]=m[e].substring(0,3);break;case"l":o[t+1]=m[e];break;case"F":o[t+1]=y[e],g=e+1;break;case"M":o[t+1]=y[e].substring(0,3),g=e+1}v=!0}});break;case"Y":u=be(o[t+1]);break;case"y":u="19"+be(o[t+1]);break;case"G":case"H":case"g":case"h":p=be(o[t+1]);break;case"i":f=be(o[t+1]);break;case"s":b=be(o[t+1]);break;case"a":case"A":c=o[t+1].toLowerCase()}}),v){var w=new Date(u,(g||1)-1,h||1,p+("pm"===c?12:0),f,b);if(w.getFullYear()===u&&w.getDate()===(h||1)&&w.getMonth()===(g||1)-1)return w}}return!1}},te=function(t){"firefox"===ve.name?t.css("MozUserSelect","none"):"explorer"===ve.name?e(document).on("selectstart",t,function(){return!1}):t.mousedown(function(){return!1})},se=function(e){return e.replace(/([-.,*+?^${}()|[\]\/\\])/g,"\\$1")},ie=function(t){var s,i,a="",n=t.getDate(),r=t.getDay(),o=B.settings.days[r],d=t.getMonth()+1,c=B.settings.months[d-1],l=t.getFullYear()+"",_=t.getHours(),h=_%12==0?12:_%12,g=t.getMinutes(),u=t.getSeconds(),p=_>=12?"pm":"am";for(s=0;s<B.settings.format.length;s++)switch(i=B.settings.format.charAt(s)){case"y":l=l.substr(2);case"Y":a+=l;break;case"m":d=fe(d,2);case"n":a+=d;break;case"M":c=e.isArray(B.settings.months_abbr)&&void 0!==B.settings.months_abbr[d-1]?B.settings.months_abbr[d-1]:B.settings.months[d-1].substr(0,3);case"F":a+=c;break;case"d":n=fe(n,2);case"j":a+=n;break;case"D":o=e.isArray(B.settings.days_abbr)&&void 0!==B.settings.days_abbr[r]?B.settings.days_abbr[r]:B.settings.days[r].substr(0,3);case"l":a+=o;break;case"N":r++;case"w":a+=r;break;case"S":a+=n%10==1&&"11"!==n?"st":n%10==2&&"12"!==n?"nd":n%10==3&&"13"!==n?"rd":"th";break;case"g":a+=h;break;case"h":a+=fe(h,2);break;case"G":a+=_;break;case"H":a+=fe(_,2);break;case"i":a+=fe(g,2);break;case"s":a+=fe(u,2);break;case"a":a+=p;break;case"A":a+=p.toUpperCase();break;default:a+=i}return a},ae=function(){var t,s,i,a,d,u,p,f,b,m,y=new Date(S,Y+1,0).getDate(),v=new Date(S,Y,1).getDay(),w=new Date(S,Y,0).getDate(),k=v-B.settings.first_day_of_week;for(k=k<0?7+k:k,he(B.settings.header_captions.days),s="<tr>",B.settings.show_week_number&&(s+="<th>"+B.settings.show_week_number+"</th>"),t=0;t<7;t++)s+="<th>"+(e.isArray(B.settings.days_abbr)&&void 0!==B.settings.days_abbr[(B.settings.first_day_of_week+t)%7]?B.settings.days_abbr[(B.settings.first_day_of_week+t)%7]:B.settings.days[(B.settings.first_day_of_week+t)%7].substr(0,2))+"</th>";for(s+="</tr><tr>",t=0;t<42;t++)t>0&&t%7==0&&(s+="</tr><tr>"),t%7==0&&B.settings.show_week_number&&(s+='<td class="dp_week_number">'+ye(new Date(S,Y,t-k+1))+"</td>"),i=t-k+1,B.settings.select_other_months&&(t<k||i>y)&&(d=(a=new Date(S,Y,i)).getFullYear(),u=a.getMonth(),p=a.getDate(),a=d+fe(u+1,2)+fe(p,2)),t<k?s+='<td class="'+(B.settings.select_other_months&&!le(d,u,p)?"dp_not_in_month_selectable date_"+a:"dp_not_in_month")+'">'+(B.settings.select_other_months||B.settings.show_other_months?fe(w-k+t+1,B.settings.zero_pad?2:0):"&nbsp;")+"</td>":i>y?s+='<td class="'+(B.settings.select_other_months&&!le(d,u,p)?"dp_not_in_month_selectable date_"+a:"dp_not_in_month")+'">'+(B.settings.select_other_months||B.settings.show_other_months?fe(i-y,B.settings.zero_pad?2:0):"&nbsp;")+"</td>":(f=(B.settings.first_day_of_week+t)%7,b="",m=de(S,Y,i),le(S,Y,i)?(e.inArray(f,B.settings.weekend_days)>-1?b="dp_weekend_disabled":b+=" dp_disabled",Y===r&&S===o&&n===i&&(b+=" dp_disabled_current"),""!==m&&(b+=" "+m+"_disabled")):(e.inArray(f,B.settings.weekend_days)>-1&&(b="dp_weekend"),Y===h&&S===g&&_===i&&(b+=" dp_selected"),Y===r&&S===o&&n===i&&(b+=" dp_current"),""!==m&&(b+=" "+m)),s+="<td"+(""!==b?' class="'+e.trim(b)+'"':"")+">"+((B.settings.zero_pad?fe(i,2):i)||"&nbsp;")+"</td>");s+="</tr>",c.html(e(s)),B.settings.always_visible&&(l=e("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month, .dp_week_number)",c)),c.show()},ne=function(){he(B.settings.header_captions.months);var t,s,i="<tr>";for(t=0;t<12;t++)t>0&&t%3==0&&(i+="</tr><tr>"),s="dp_month_"+t,le(S,t)?s+=" dp_disabled":!1!==h&&h===t&&S===g?s+=" dp_selected":r===t&&o===S&&(s+=" dp_current"),i+='<td class="'+e.trim(s)+'">'+(e.isArray(B.settings.months_abbr)&&void 0!==B.settings.months_abbr[t]?B.settings.months_abbr[t]:B.settings.months[t].substr(0,3))+"</td>";i+="</tr>",A.html(e(i)),B.settings.always_visible&&(C=e("td:not(.dp_disabled)",A)),A.show()},re=function(){var t;t='<tr class="dp_time_controls dp_time_controls_increase">'+(W.hours?'<td class="dp_time_hour">&#9650;</td>':"")+(W.minutes?'<td class="dp_time_minute">&#9650;</td>':"")+(W.seconds?'<td class="dp_time_second">&#9650;</td>':"")+(W.ampm?'<td class="dp_time_ampm">&#9650;</td>':"")+"</tr>",t+='<tr class="dp_time_elements">',W.hours&&(t+='<td class="dp_disabled dp_time_hours">'+fe(M,2)+"</td>"),W.minutes&&(t+='<td class="dp_disabled dp_time_minutes">'+fe(P,2)+"</td>"),W.seconds&&(t+='<td class="dp_disabled dp_time_seconds">'+fe(F,2)+"</td>"),W.ampm&&(t+='<td class="dp_disabled dp_time_ampm">'+Z.toUpperCase()+"</td>"),t+="</tr>",t+='<tr class="dp_time_controls dp_time_controls_decrease">'+(W.hours?'<td class="dp_time_hour">&#9660;</td>':"")+(W.minutes?'<td class="dp_time_minute">&#9660;</td>':"")+(W.seconds?'<td class="dp_time_second">&#9660;</td>':"")+(W.ampm?'<td class="dp_time_ampm">&#9660;</td>':"")+"</tr>",H.html(e(t)),H.show()},oe=function(){he(B.settings.header_captions.years);var t,s,i="<tr>";for(t=0;t<12;t++)t>0&&t%3==0&&(i+="</tr><tr>"),s="",le(S-7+t)?s+=" dp_disabled":g&&g===S-7+t?s+=" dp_selected":o===S-7+t&&(s+=" dp_current"),i+="<td"+(""!==e.trim(s)?' class="'+e.trim(s)+'"':"")+">"+(S-7+t)+"</td>";i+="</tr>",T.html(e(i)),B.settings.always_visible&&(L=e("td:not(.dp_disabled)",T)),T.show()},de=function(t,s,i){var a,n,r;void 0!==s&&(s+=1);for(n in G)if(a=G[n],r=!1,e.isArray(U[a])&&e.each(U[a],function(){if(!r){var n,o=this;if((e.inArray(t,o[2])>-1||e.inArray("*",o[2])>-1)&&(void 0!==s&&e.inArray(s,o[1])>-1||e.inArray("*",o[1])>-1)&&(void 0!==i&&e.inArray(i,o[0])>-1||e.inArray("*",o[0])>-1)){if(o[3].indexOf("*")>-1)return r=a;if(n=new Date(t,s-1,i).getDay(),e.inArray(n,o[3])>-1)return r=a}}}),r)return r;return r||""},ce=function(t){var s,i;if("explorer"===ve.name&&6===ve.version)switch(z||(s=be(d.css("zIndex"))-1,z=e("<iframe>",{src:'javascript:document.write("")',scrolling:"no",frameborder:0,css:{zIndex:s,position:"absolute",top:-1e3,left:-1e3,width:d.outerWidth(),height:d.outerHeight(),filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)",display:"none"}}),e("body").append(z)),t){case"hide":z.hide();break;default:i=d.offset(),z.css({top:i.top,left:i.left,display:"block"})}},le=function(t,s,i){var a,n,r,o;if(!(void 0!==t&&!isNaN(t)||void 0!==s&&!isNaN(s)||void 0!==i&&!isNaN(i)))return!1;if(t<1e3)return!0;if(e.isArray(B.settings.direction)||0!==be(B.settings.direction)){if(a=be(pe(t,void 0!==s?fe(s,2):"",void 0!==i?fe(i,2):"")),8===(n=(a+"").length)&&(void 0!==N&&a<be(pe(b,fe(f,2),fe(p,2)))||void 0!==u&&a>be(pe(D,fe(k,2),fe(w,2)))))return!0;if(6===n&&(void 0!==N&&a<be(pe(b,fe(f,2)))||void 0!==u&&a>be(pe(D,fe(k,2)))))return!0;if(4===n&&(void 0!==N&&a<b||void 0!==u&&a>D))return!0}return void 0!==s&&(s+=1),r=!1,o=!1,e.isArray(V)&&V.length&&e.each(V,function(){if(!r){var a,n=this;if((e.inArray(t,n[2])>-1||e.inArray("*",n[2])>-1)&&(void 0!==s&&e.inArray(s,n[1])>-1||e.inArray("*",n[1])>-1)&&(void 0!==i&&e.inArray(i,n[0])>-1||e.inArray("*",n[0])>-1)){if(n[3].indexOf("*")>-1)return r=!0;if(a=new Date(t,s-1,i).getDay(),e.inArray(a,n[3])>-1)return r=!0}}}),$&&e.each($,function(){if(!o){var a,n=this;if((e.inArray(t,n[2])>-1||e.inArray("*",n[2])>-1)&&(o=!0,void 0!==s))if(o=!0,e.inArray(s,n[1])>-1||e.inArray("*",n[1])>-1){if(void 0!==i)if(o=!0,e.inArray(i,n[0])>-1||e.inArray("*",n[0])>-1){if(n[3].indexOf("*")>-1)return o=!0;if(a=new Date(t,s-1,i).getDay(),e.inArray(a,n[3])>-1)return o=!0;o=!1}else o=!1}else o=!1}}),(!$||!o)&&!(!V||!r)},_e=function(e){return(e+"").match(/^\-?[0-9]+$/)},he=function(t){!isNaN(parseFloat(Y))&&isFinite(Y)&&(t=t.replace(/\bm\b|\bn\b|\bF\b|\bM\b/,function(t){switch(t){case"m":return fe(Y+1,2);case"n":return Y+1;case"F":return B.settings.months[Y];case"M":return e.isArray(B.settings.months_abbr)&&void 0!==B.settings.months_abbr[Y]?B.settings.months_abbr[Y]:B.settings.months[Y].substr(0,3);default:return t}})),!isNaN(parseFloat(S))&&isFinite(S)&&(t=t.replace(/\bY\b/,S).replace(/\by\b/,(S+"").substr(2)).replace(/\bY1\b/i,S-7).replace(/\bY2\b/i,S+4)),e(".dp_caption",y).html(t)},ge=function(){var t,s,a;""===c.text()||"days"===Q?(""===c.text()?(B.settings.always_visible instanceof jQuery||d.css("left",-1e3),d.css("visibility","visible"),ae(),t=c.outerWidth(),s=c.outerHeight(),A.css({width:t,height:s}),T.css({width:t,height:s}),H.css({width:t,height:s+y.outerHeight(!0)}),y.css("width",t),m.css("width",t),d.css("visibility","").addClass("dp_hidden")):ae(),A.hide(),T.hide(),H.hide(),W&&(y.show(),x.removeClass("dp_timepicker_toggler_calendar"))):"months"===Q?(ne(),c.hide(),T.hide(),W&&(y.show(),x.removeClass("dp_timepicker_toggler_calendar"))):"years"===Q?(oe(),c.hide(),A.hide(),W&&(y.show(),x.removeClass("dp_timepicker_toggler_calendar"))):"time"===Q&&(re(),1===R.length?x.hide():(x.show(),x.addClass("dp_timepicker_toggler_calendar")),y.hide(),c.hide(),A.hide(),T.hide()),"time"!==Q&&B.settings.onChange&&"function"==typeof B.settings.onChange&&void 0!==Q&&((a="days"===Q?c.find("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month)"):"months"===Q?A.find("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month)"):T.find("td:not(.dp_disabled, .dp_weekend_disabled, .dp_not_in_month)")).each(function(){var t;"days"===Q?e(this).hasClass("dp_not_in_month_selectable")?(t=e(this).attr("class").match(/date\_([0-9]{4})(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])/),e(this).data("date",t[1]+"-"+t[2]+"-"+t[3])):e(this).data("date",S+"-"+fe(Y+1,2)+"-"+fe(be(e(this).text()),2)):"months"===Q?(t=e(this).attr("class").match(/dp\_month\_([0-9]+)/),e(this).data("date",S+"-"+fe(be(t[1])+1,2))):e(this).data("date",be(e(this).text()))}),B.settings.onChange.call(X,Q,a,X)),m.show(),"time"===Q&&R.length>1?(I.hide(),i.hide()):(I.show(),i.show(),!0===B.settings.show_clear_date||0===B.settings.show_clear_date&&""!==X.val()||B.settings.always_visible&&!1!==B.settings.show_clear_date?O?(I.css("width","50%"),i.css("width","50%")):(I.hide(),i.css("width","100%")):(i.hide(),O?I.css("width","100%"):m.hide()))},ue=function(e,t,s,i,a){var n=new Date(e,t,s,W&&W.hours?M+(W.ampm&&"pm"===Z?12:0):12,W&&W.minutes?P:0,W&&W.seconds?F:0),r="days"===i?l:"months"===i?C:L,o=ie(n);X.val(o),B.settings.always_visible&&(h=n.getMonth(),Y=n.getMonth(),g=n.getFullYear(),S=n.getFullYear(),_=n.getDate(),a&&(r.removeClass("dp_selected"),a.addClass("dp_selected"),"days"===i&&a.hasClass("dp_not_in_month_selectable")&&B.show())),X.focus(),B.hide(),me(n),B.settings.onSelect&&"function"==typeof B.settings.onSelect&&B.settings.onSelect.call(X,o,e+"-"+fe(t+1,2)+"-"+fe(s,2),n,X,ye(n))},pe=function(){var e,t="";for(e=0;e<arguments.length;e++)t+=arguments[e]+"";return t},fe=function(e,t){for(e+="";e.length<t;)e="0"+e;return e},be=function(e){return parseInt(e,10)},me=function(t){B.settings.pair&&e.each(B.settings.pair,function(){var s,i=e(this);i.data&&i.data("Zebra_DatePicker")?((s=i.data("Zebra_DatePicker")).update({reference_date:t,direction:0===s.settings.direction?1:s.settings.direction}),s.settings.always_visible&&s.show()):i.data("zdp_reference_date",t)})},ye=function(e){var t,s,i,a,n,r,o,d=e.getFullYear(),c=e.getMonth()+1,l=e.getDate();return c<3?(i=(s=((t=d-1)/4|0)-(t/100|0)+(t/400|0))-(((t-1)/4|0)-((t-1)/100|0)+((t-1)/400|0)),a=0,n=l-1+31*(c-1)):(a=(i=(s=((t=d)/4|0)-(t/100|0)+(t/400|0))-(((t-1)/4|0)-((t-1)/100|0)+((t-1)/400|0)))+1,n=l+((153*(c-3)+2)/5|0)+58+i),r=(t+s)%7,l=(n+r-a)%7,o=n+3-l,o<0?53-((r-i)/5|0):o>364+i?1:1+(o/7|0)},ve={init:function(){this.name=this.searchString(this.dataBrowser)||"",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||""},searchString:function(e){var t,s,i;for(t=0;t<e.length;t++)if(s=e[t].string,i=e[t].prop,this.versionSearchString=e[t].versionSearch||e[t].identity,s){if(-1!==s.indexOf(e[t].subString))return e[t].identity}else if(i)return e[t].identity},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(-1!==t)return parseFloat(e.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Firefox",identity:"firefox"},{string:navigator.userAgent,subString:"MSIE",identity:"explorer",versionSearch:"MSIE"}]};ve.init(),K()},e.fn.Zebra_DatePicker=function(t){return this.each(function(){void 0!==e(this).data("Zebra_DatePicker")&&e(this).data("Zebra_DatePicker").destroy();var s=new e.Zebra_DatePicker(this,t);e(this).data("Zebra_DatePicker",s)})}});